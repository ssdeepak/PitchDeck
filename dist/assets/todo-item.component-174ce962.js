import{e as s}from"./main-888e55a8.js";class d extends HTMLElement{shadow;todo=null;constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.render(),this.setupEventListeners()}connectedCallback(){console.log("Todo Item Web Component connected")}disconnectedCallback(){console.log("Todo Item Web Component disconnected")}static get observedAttributes(){return["todo-id","text","completed","priority"]}attributeChangedCallback(e,t,o){t!==o&&(this.updateTodoFromAttributes(),this.render())}setTodo(e){this.todo=e,this.updateAttributes(),this.render()}updateAttributes(){this.todo&&(this.setAttribute("todo-id",this.todo.id),this.setAttribute("text",this.todo.text),this.setAttribute("completed",this.todo.completed.toString()),this.setAttribute("priority",this.todo.priority))}updateTodoFromAttributes(){const e=this.getAttribute("todo-id"),t=this.getAttribute("text")||"",o=this.getAttribute("completed")==="true",i=this.getAttribute("priority")||"medium";e&&(this.todo={id:e,text:t,completed:o,priority:i,createdAt:new Date})}render(){if(!this.todo){this.shadow.innerHTML='<div class="todo-item loading">Loading...</div>';return}const e=this.getStyles(),t=this.getTemplate();this.shadow.innerHTML="<style>"+e+"</style>"+t}getStyles(){if(!this.todo)return"";const t={low:"#28a745",medium:"#ffc107",high:"#dc3545"}[this.todo.priority];return[":host { display: block; margin-bottom: 8px; }",".todo-item {","  display: flex;","  align-items: center;","  padding: 12px 16px;","  background: white;","  border-radius: 8px;","  box-shadow: 0 1px 3px rgba(0,0,0,0.1);","  border-left: 4px solid "+t+";","  transition: all 0.2s ease;","  cursor: pointer;","}",".todo-item:hover {","  box-shadow: 0 2px 8px rgba(0,0,0,0.15);","  transform: translateY(-1px);","}",".todo-item.completed {","  opacity: 0.6;","  background: #f8f9fa;","}",".todo-item.completed .todo-text {","  text-decoration: line-through;","  color: #6c757d;","}",".checkbox {","  width: 5px;","  height: 5px;","  margin-right: 12px;","  border: 2px solid #ddd;","  border-radius: 4px;","  background: white;","  cursor: pointer;","  display: flex;","  align-items: center;","  justify-content: center;","  transition: all 0.2s;","  flex-shrink: 0;","}",".checkbox:hover {","  border-color: "+t+";","}",".checkbox.checked {","  background: "+t+";","  border-color: "+t+";","}",".checkbox.checked::after {",'  content: "‚úì";',"  color: white;","  font-size: 12px;","  font-weight: bold;","}",".todo-content {","  flex: 1;","  min-width: 0;","}",".todo-text {","  font-size: 14px;","  line-height: 1.4;","  color: #333;","  word-wrap: break-word;","  margin: 0;","}",".todo-meta {","  display: flex;","  align-items: center;","  gap: 8px;","  margin-top: 4px;","}",".priority-badge {","  padding: 2px 8px;","  border-radius: 12px;","  font-size: 11px;","  font-weight: 500;","  text-transform: uppercase;","  letter-spacing: 0.5px;","}",".priority-low { background: rgba(40, 167, 69, 0.1); color: #28a745; }",".priority-medium { background: rgba(255, 193, 7, 0.1); color: #ffc107; }",".priority-high { background: rgba(220, 53, 69, 0.1); color: #dc3545; }",".todo-date {","  font-size: 11px;","  color: #6c757d;","}",".actions {","  display: flex;","  gap: 4px;","  opacity: 0;","  transition: opacity 0.2s;","}",".todo-item:hover .actions {","  opacity: 1;","}",".action-btn {","  padding: 4px 8px;","  border: none;","  border-radius: 4px;","  font-size: 12px;","  cursor: pointer;","  transition: all 0.2s;","  background: transparent;","}",".edit-btn {","  color: #007acc;","}",".edit-btn:hover {","  background: rgba(0, 122, 204, 0.1);","}",".delete-btn {","  color: #dc3545;","}",".delete-btn:hover {","  background: rgba(220, 53, 69, 0.1);","}",".editing .todo-text {","  display: none;","}",".editing .edit-input {","  display: block;","}",".edit-input {","  display: none;","  width: 100%;","  padding: 4px 8px;","  border: 1px solid #ddd;","  border-radius: 4px;","  font-size: 14px;","  margin-top: 4px;","}",".edit-input:focus {","  outline: none;","  border-color: #007acc;","  box-shadow: 0 0 0 2px rgba(0, 122, 204, 0.2);","}","@keyframes fadeIn {","  from { opacity: 0; transform: translateY(10px); }","  to { opacity: 1; transform: translateY(0); }","}",".todo-item {","  animation: fadeIn 0.3s ease-out;","}"].join(" ")}getTemplate(){if(!this.todo)return"";const e=this.todo.completed?"completed":"",t=`priority-${this.todo.priority}`,o=this.formatDate(this.todo.createdAt);return'<div class="todo-item '+e+'"><div class="checkbox '+(this.todo.completed?"checked":"")+'"></div><div class="todo-content"><p class="todo-text">'+this.escapeHtml(this.todo.text)+'</p><input type="text" class="edit-input" value="'+this.escapeHtml(this.todo.text)+'" /><div class="todo-meta"><span class="priority-badge '+t+'">'+this.todo.priority+'</span><span class="todo-date">Created '+o+'</span></div></div><div class="actions"><button class="action-btn edit-btn">‚úèÔ∏è</button><button class="action-btn delete-btn">üóëÔ∏è</button></div></div>'}setupEventListeners(){this.shadow.addEventListener("click",e=>{const t=e.target;t.classList.contains("checkbox")?this.toggleCompleted():t.classList.contains("edit-btn")?this.startEditing():t.classList.contains("delete-btn")?this.deleteTodo():t.closest(".todo-item")&&!t.closest(".actions")&&!t.classList.contains("edit-input")&&this.toggleCompleted()}),this.shadow.addEventListener("keydown",e=>{const t=e;if(t.target&&t.target.classList.contains("edit-input")){const o=t.target;t.key==="Enter"?this.finishEditing(o.value.trim()):t.key==="Escape"&&this.cancelEditing()}}),this.shadow.addEventListener("blur",e=>{if(e.target&&e.target.classList.contains("edit-input")){const t=e.target;this.finishEditing(t.value.trim())}},!0)}toggleCompleted(){this.todo&&s.emit("todo:toggle",{id:this.todo.id})}startEditing(){const e=this.shadow.querySelector(".todo-item"),t=this.shadow.querySelector(".edit-input");e&&t&&(e.classList.add("editing"),t.focus(),t.select())}finishEditing(e){if(!this.todo||!e.trim()){this.cancelEditing();return}s.emit("todo:edit",{id:this.todo.id,text:e.trim()}),this.cancelEditing()}cancelEditing(){const e=this.shadow.querySelector(".todo-item"),t=this.shadow.querySelector(".edit-input");e&&t&&(e.classList.remove("editing"),t.value=this.todo?.text||"")}deleteTodo(){this.todo&&confirm("Are you sure you want to delete this todo?")&&s.emit("todo:delete",{id:this.todo.id})}formatDate(e){const o=new Date().getTime()-e.getTime(),i=Math.floor(o/(1e3*60*60*24));return i===0?"today":i===1?"yesterday":i<7?`${i} days ago`:e.toLocaleDateString()}escapeHtml(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}}customElements.define("vfs-todo-item",d);export{d as TodoItemComponent};
//# sourceMappingURL=todo-item.component-174ce962.js.map
