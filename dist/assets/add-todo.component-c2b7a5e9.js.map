{"version":3,"file":"add-todo.component-c2b7a5e9.js","sources":["../../src/components/windows/add-todo.component.ts"],"sourcesContent":["/**\r\n * Add Todo Web Component\r\n * A form component for adding new todos\r\n * Demonstrates Web Component communication and form handling\r\n */\r\n\r\nimport { eventBus } from '../../core/events/event-bus.js';\r\n\r\nexport class AddTodoComponent extends HTMLElement {\r\n  private shadow: ShadowRoot;\r\n\r\n  constructor() {\r\n    super();\r\n    this.shadow = this.attachShadow({ mode: 'open' });\r\n    this.render();\r\n    this.setupEventListeners();\r\n  }\r\n\r\n  /**\r\n   * Component connected to DOM\r\n   */\r\n  connectedCallback(): void {\r\n    console.log('Add Todo Web Component connected');\r\n  }\r\n\r\n  /**\r\n   * Component disconnected from DOM\r\n   */\r\n  disconnectedCallback(): void {\r\n    console.log('Add Todo Web Component disconnected');\r\n  }\r\n\r\n  /**\r\n   * Render the component\r\n   */\r\n  private render(): void {\r\n    const styles = this.getStyles();\r\n    const template = this.getTemplate();\r\n    this.shadow.innerHTML = '<style>' + styles + '</style>' + template;\r\n  }\r\n\r\n  /**\r\n   * Get component styles\r\n   */\r\n  private getStyles(): string {\r\n    return [\r\n      ':host { display: block; margin-top: 5px; }',\r\n      '.add-todo { background: white; border-radius: 8px; padding: 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }',\r\n      '.add-todo h3 { margin: 0 0 16px 0; color: #333; font-size: 18px; font-weight: 600; }',\r\n      '.add-form { display: flex; flex-direction: column; gap: 12px; }',\r\n      '.form-row { display: flex; gap: 12px; align-items: flex-end; }',\r\n      '.form-group { flex: 1; display: flex; flex-direction: column; gap: 4px; }',\r\n      '.form-group.full-width { flex: none; width: 100%; }',\r\n      '.form-label { font-size: 14px; font-weight: 500; color: #555; }',\r\n      '.form-input { padding: 10px 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; transition: border-color 0.2s; }',\r\n      '.form-input:focus { outline: none; border-color: #007acc; box-shadow: 0 0 0 2px rgba(0, 122, 204, 0.2); }',\r\n      '.form-select { padding: 10px 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; background: white; cursor: pointer; }',\r\n      '.form-select:focus { outline: none; border-color: #007acc; }',\r\n      '.add-btn { padding: 10px 5px; background: #28a745; color: white; border: none; border-radius: 6px; font-size: 14px; font-weight: 500; cursor: pointer; transition: background-color 0.2s; }',\r\n      '.add-btn:hover { background: #218838; }',\r\n      '.add-btn:disabled { background: #6c757d; cursor: not-allowed; }',\r\n      '.quick-add { margin-top: 12px; padding-top: 12px; border-top: 1px solid #eee; }',\r\n      '.quick-btns { display: flex; flex-wrap: wrap; gap: 8px; }',\r\n      '.quick-btn { padding: 6px 12px; background: #f8f9fa; color: #495057; border: 1px solid #dee2e6; border-radius: 5px; font-size: 12px; cursor: pointer; transition: all 0.2s; }',\r\n      '.quick-btn:hover { background: #e9ecef; border-color: #adb5bd; }',\r\n      '.priority-high { border-color: #dc3545; color: #dc3545; }',\r\n      '.priority-medium { border-color: #ffc107; color: #ffc107; }',\r\n      '.priority-low { border-color: #28a745; color: #28a745; }',\r\n      '@keyframes slideIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }',\r\n      '.add-todo { animation: slideIn 0.3s ease-out; }'\r\n    ].join(' ');\r\n  }\r\n\r\n  /**\r\n   * Get component template\r\n   */\r\n  private getTemplate(): string {\r\n    return '<div class=\"add-todo\">' +\r\n           '<h3>‚ûï Add New Todo</h3>' +\r\n           '<form class=\"add-form\">' +\r\n           '<div class=\"form-group full-width\">' +\r\n           '<label class=\"form-label\">What needs to be done?</label>' +\r\n           '<input type=\"text\" class=\"form-input\" id=\"todo-text\" placeholder=\"Enter your todo...\" maxlength=\"200\" required />' +\r\n           '</div>' +\r\n           '<div class=\"form-row\">' +\r\n           '<div class=\"form-group\">' +\r\n           '<label class=\"form-label\">Priority</label>' +\r\n           '<select class=\"form-select\" id=\"todo-priority\">' +\r\n           '<option value=\"low\">üü¢ Low</option>' +\r\n           '<option value=\"medium\" selected>üü° Medium</option>' +\r\n           '<option value=\"high\">üî¥ High</option>' +\r\n           '</select>' +\r\n           '</div>' +\r\n           '<button type=\"submit\" class=\"add-btn\" id=\"add-btn\">Add Todo</button>' +\r\n           '</div>' +\r\n           '</form>' +\r\n           '<div class=\"quick-add\">' +\r\n           '<div class=\"quick-btns\">' +\r\n           '<button class=\"quick-btn\" data-text=\"Review project documentation\" data-priority=\"medium\">üìö Review docs</button>' +\r\n           '<button class=\"quick-btn\" data-text=\"Update dependencies\" data-priority=\"high\">üì¶ Update deps</button>' +\r\n           '<button class=\"quick-btn\" data-text=\"Write unit tests\" data-priority=\"medium\">üß™ Write tests</button>' +\r\n           '<button class=\"quick-btn\" data-text=\"Fix reported bugs\" data-priority=\"high\">üêõ Fix bugs</button>' +\r\n           '<button class=\"quick-btn priority-low\" data-text=\"Plan next sprint\" data-priority=\"low\">üìÖ Plan sprint</button>' +\r\n           '<button class=\"quick-btn priority-low\" data-text=\"Team meeting\" data-priority=\"low\">üë• Team meeting</button>' +\r\n           '</div>' +\r\n           '</div>' +\r\n           '</div>';\r\n  }\r\n\r\n  /**\r\n   * Setup event listeners\r\n   */\r\n  private setupEventListeners(): void {\r\n    const form = this.shadow.querySelector('.add-form') as HTMLFormElement;\r\n    const textInput = this.shadow.getElementById('todo-text') as HTMLInputElement;\r\n    const prioritySelect = this.shadow.getElementById('todo-priority') as HTMLSelectElement;\r\n    const addBtn = this.shadow.getElementById('add-btn') as HTMLButtonElement;\r\n\r\n    // Form submission\r\n    if (form) {\r\n      form.addEventListener('submit', (e) => {\r\n        e.preventDefault();\r\n        this.handleAddTodo();\r\n      });\r\n    }\r\n\r\n    // Quick add buttons\r\n    const quickButtons = this.shadow.querySelectorAll('.quick-btn');\r\n    quickButtons.forEach(button => {\r\n      button.addEventListener('click', (e) => {\r\n        const target = e.target as HTMLElement;\r\n        const text = target.dataset.text;\r\n        const priority = target.dataset.priority as 'low' | 'medium' | 'high';\r\n\r\n        if (text && priority) {\r\n          this.quickAddTodo(text, priority);\r\n        }\r\n      });\r\n    });\r\n\r\n    // Enter key handling\r\n    if (textInput) {\r\n      textInput.addEventListener('keydown', (e) => {\r\n        if (e.key === 'Enter' && !e.shiftKey) {\r\n          e.preventDefault();\r\n          this.handleAddTodo();\r\n        }\r\n      });\r\n\r\n      // Update button state\r\n      textInput.addEventListener('input', () => {\r\n        this.updateButtonState();\r\n      });\r\n    }\r\n\r\n    // Initial button state\r\n    this.updateButtonState();\r\n  }\r\n\r\n  /**\r\n   * Handle adding a new todo\r\n   */\r\n  private handleAddTodo(): void {\r\n    const textInput = this.shadow.getElementById('todo-text') as HTMLInputElement;\r\n    const prioritySelect = this.shadow.getElementById('todo-priority') as HTMLSelectElement;\r\n\r\n    if (!textInput || !prioritySelect) return;\r\n\r\n    const text = textInput.value.trim();\r\n    const priority = prioritySelect.value as 'low' | 'medium' | 'high';\r\n\r\n    if (!text) {\r\n      this.showError('Please enter a todo text');\r\n      return;\r\n    }\r\n\r\n    // Emit event to parent component\r\n    eventBus.emit('todo:add', { text, priority });\r\n\r\n    // Clear form\r\n    textInput.value = '';\r\n    prioritySelect.value = 'medium';\r\n    textInput.focus();\r\n\r\n    // Show success feedback\r\n    this.showSuccess('Todo added successfully!');\r\n  }\r\n\r\n  /**\r\n   * Handle quick add\r\n   */\r\n  private quickAddTodo(text: string, priority: 'low' | 'medium' | 'high'): void {\r\n    eventBus.emit('todo:add', { text, priority });\r\n    this.showSuccess(`\"${text}\" added!`);\r\n  }\r\n\r\n  /**\r\n   * Update button state based on input\r\n   */\r\n  private updateButtonState(): void {\r\n    const textInput = this.shadow.getElementById('todo-text') as HTMLInputElement;\r\n    const addBtn = this.shadow.getElementById('add-btn') as HTMLButtonElement;\r\n\r\n    if (textInput && addBtn) {\r\n      const hasText = textInput.value.trim().length > 0;\r\n      addBtn.disabled = !hasText;\r\n      addBtn.textContent = hasText ? 'Add Todo' : 'Enter text...';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show success message\r\n   */\r\n  private showSuccess(message: string): void {\r\n    this.showFeedback(message, 'success');\r\n  }\r\n\r\n  /**\r\n   * Show error message\r\n   */\r\n  private showError(message: string): void {\r\n    this.showFeedback(message, 'error');\r\n  }\r\n\r\n  /**\r\n   * Show feedback message\r\n   */\r\n  private showFeedback(message: string, type: 'success' | 'error'): void {\r\n    // Remove existing feedback\r\n    const existing = this.shadow.querySelector('.feedback-message');\r\n    if (existing) {\r\n      existing.remove();\r\n    }\r\n\r\n    // Create new feedback\r\n    const feedback = document.createElement('div');\r\n    feedback.className = `feedback-message ${type}`;\r\n    feedback.textContent = message;\r\n    feedback.style.cssText = `\r\n      position: fixed;\r\n      top: 5px;\r\n      right: 5px;\r\n      background: ${type === 'success' ? '#d4edda' : '#f8d7da'};\r\n      color: ${type === 'success' ? '#155724' : '#721c24'};\r\n      padding: 12px 16px;\r\n      border-radius: 6px;\r\n      box-shadow: 0 4px 6px rgba(0,0,0,0.1);\r\n      z-index: 10000;\r\n      animation: slideInRight 0.3s ease-out;\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n    `;\r\n\r\n    // Add animation\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n      @keyframes slideInRight {\r\n        from { transform: translateX(100%); opacity: 0; }\r\n        to { transform: translateX(0); opacity: 1; }\r\n      }\r\n    `;\r\n    feedback.appendChild(style);\r\n\r\n    document.body.appendChild(feedback);\r\n\r\n    // Auto remove after 3 seconds\r\n    setTimeout(() => {\r\n      if (feedback.parentNode) {\r\n        feedback.parentNode.removeChild(feedback);\r\n      }\r\n    }, 3000);\r\n  }\r\n}\r\n\r\n// Register the Web Component\r\ncustomElements.define('vfs-add-todo', AddTodoComponent);"],"names":["AddTodoComponent","styles","template","form","textInput","e","button","target","text","priority","prioritySelect","eventBus","addBtn","hasText","message","type","existing","feedback","style"],"mappings":"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"}